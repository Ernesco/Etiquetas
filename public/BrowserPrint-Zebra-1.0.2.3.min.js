var BrowserPrint = function() {
    var e = {};
    return e.getDefaultDevice = function(e, n, r) {
        var t = "https://localhost:9101/default?type=" + e;
        var o = new XMLHttpRequest;
        o.open("GET", t, true), o.onreadystatechange = function() {
            if (o.readyState == 4 && o.status == 200) {
                var e = JSON.parse(o.responseText);
                n(e)
            } else if (o.readyState == 4) {
                r(o.responseText)
            }
        }, o.send()
    }, e.getApplicationConfiguration = function(e, n) {
        var r = "https://localhost:9101/config";
        var t = new XMLHttpRequest;
        t.open("GET", r, true), t.onreadystatechange = function() {
            if (t.readyState == 4 && t.status == 200) {
                var n = JSON.parse(t.responseText);
                e(n)
            } else if (t.readyState == 4) {
                alert("Error de configuración local")
            }
        }, t.send()
    }, e
}();

// Extensión para enviar comandos directos a la impresora
BrowserPrint.Device = function(e) {
    this.name = e.name;
    this.uid = e.uid;
    this.connection = e.connection;
    this.send = function(e, n, r) {
        var t = "https://localhost:9101/write";
        var o = new XMLHttpRequest;
        o.open("POST", t, true);
        var i = {
            device: { name: this.name, uid: this.uid, connection: this.connection },
            data: e
        };
        o.onreadystatechange = function() {
            if (o.readyState == 4 && o.status == 200) n(o.responseText);
            else if (o.readyState == 4) r(o.responseText)
        }, o.send(JSON.stringify(i))
    }
};